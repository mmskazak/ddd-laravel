* Так можно ли использовать сервисы как репозитории?Теоретически — нет, но на практике — да.  И многие разработчики действительно используют сервисы вместо репозиториев.
* Можно ли использовать сервисы вместе с репозиториями?
Да, но я **не рекомендую** этот подход.

Когда у тебя в проекте есть и репозитории, и сервисы, основная идея такая:

* Каждая модель имеет свой репозиторий.
* Репозитории содержат запросы к базе данных.
* При необходимости ты создаёшь сервис для модели (или набора моделей, как мы обсуждали в главе о репозиториях). Например, у класса `Todo` есть более сложная логика уведомлений, поэтому ты можешь добавить `TodoNotificationService`.

Этот подход вполне нормальный и может работать, но вот главная проблема:

* Ты в итоге получаешь **несогласованные классы**. Когда ты работаешь с моделью `Todo`, у тебя есть и репозиторий, и сервис. Но когда ты работаешь над функцией, связанной с `Project`, у тебя есть только репозиторий, потому что проект не требует сервисного класса.
И в случае с `Todo` ты не сможешь быстро сказать, живёт ли метод в сервисе или в репозитории.
* В общем, твои фичи размазаны между сервисами и репозиториями, и становится чуть сложнее ими управлять.

Это не очень объективно, так что для тебя, может, это сработает прекрасно!
**А вот для меня — я придерживаюсь действий (actions).**

Martin Joo — Предметно-ориентированное проектирование с Laravel

35 / 327

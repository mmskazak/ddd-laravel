Ты видишь, что я запускаю некоторые запросы к БД, чтобы получить теги и форму. Так что вместо ID (которые приходят из запроса), у меня есть модели, которые могут быть отображены на `TagData` или `FormData`. Позже я объясню эти вещи подробнее.

И посмотри на контроллер:

```php
class CreateSubscriberController extends Controller
{
    public function __invoke(SubscriberData $data): SubscriberData
    {
        return SubscriberData::from(
            CreateSubscriberAction::execute($data)
        );
    }
}
```

Ты можешь внедрить любой класс `Data`, и преобразование из запроса произойдёт автоматически! И, как ты видишь, объект `Data` может быть возвращён из действия контроллера и будет преобразован в JSON (включая вложенные свойства).

На мой взгляд, это потрясающий инструмент, поэтому я буду активно использовать его в демонстрационном приложении позже.

Ещё один вопрос, чтобы завершить эту главу:
В чём разница между объектами-значениями (value objects) и DTO?

    * DTO имеет ID, потому что он представляет модель.
    * Объект-значение никогда не имеет ID. Он представляет значение, а не сущность.

Это главное различие. Однако в Laravel-сообществе я часто вижу, что люди путают эти две концепции. Ты даже можешь встретить людей, которые пишут только value objects и используют их как DTO и как VO.


Martin Joo — Предметно-ориентированное проектирование с Laravel

25 / 327

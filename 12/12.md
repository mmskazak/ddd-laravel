Этот класс представляет значение процента. Этот простой класс даёт тебе три преимущества:

    * Он инкапсулирует логику, которая обрабатывает null-значения и представляет их в виде процентов.
    * У тебя всегда есть два знака после запятой (по умолчанию) в процентах.
    * Лучшие типы.

Важное замечание: бизнес-логика или вычисления не являются частью объекта-значения. Единственное исключение, которое я допускаю, — это базовое форматирование.

Под «лучшими типами» я имею в виду такие методы:

```php
private function averageClickRate(int $total): Percent
{
    return Percent::from(
        SentMail::whereClicked()->count() / $total
    );
}
```

Ты берёшь float-значение и превращаешь его в «первоклассного гражданина» с помощью объекта Percent. Тебе больше не нужно беспокоиться о том, возвращает ли метод в твоём приложении отформатированную строку или число с плавающей точкой. Каждое процентное значение отныне может быть выражено как объект Percent. Так ты знаешь, что он содержит и число с плавающей точкой, и отформатированное строковое значение.

Оригинальное определение объекта-значения утверждает ещё две вещи:

    * Он неизменяем. У тебя нет сеттеров, и есть только свойства только для чтения.
    * Он не содержит ID или любого другого свойства, связанного с идентификацией. Два объекта-значения равны, только если их значения совпадают.

Что ещё можно выразить как объект-значение? Почти всё. Вот несколько примеров:

    * Адреса. В e-commerce-приложении, где тебе нужно работать с доставкой, может быть очень полезно использовать объекты вместо строк. Ты можешь выразить каждую часть адреса как свойство:



Martin Joo — Предметно-ориентированное проектирование с Laravel

11 / 327

Как видишь, применить CQRS с помощью этих двух классов **очень, очень просто**.
Оказалось, что я использовал CQRS за годы до того, как вообще узнал, что это такое.
Так что я не продвигаю идею CQRS как отдельный паттерн; мне просто нравится работать с actions и view models.
Также я не думаю, что это нужно для **каждого** приложения, но это даёт отличные преимущества:

* Твой код становится более понятным.
* У тебя маленькие, более простые для поддержки классы.
* Это даёт идеальное разделение обязанностей.
* Каждый класс имеет одну хорошо определённую ответственность.

Вот что такое CQRS.
Однако, если ты начнёшь гуглить статьи и туториалы по этой теме, ты найдёшь **очень сложные** объяснения.
Они часто показывают, как CQRS используется с другими более сложными концепциями, такими как:

* event sourcing,
* event stores,
* отдельные базы данных для чтения и записи.

В этой книге я **не** буду говорить про event sourcing по трём причинам:

1. Я сам его не использую, поэтому не считаю себя вправе о нём писать.
2. Я не думаю, что он нужен большинству бизнес-приложений.
3. Он требует совершенно другой архитектуры и взгляда.

Так что очень маловероятно, что ты начнёшь рефакторить своё приложение под event sourcing после того, как узнаешь о нём.
Зато гораздо проще применить любые другие концепции, о которых мы говорим в этой книге.

CQRS может быть **сложнее** (и обычно бывает), чем я его здесь описываю.
Например, в мире C# разработчики используют так называемый **mediator**. Это способ реализовать синхронные сообщения внутри процесса.
По сути, это слой, который обрабатывает команды и запросы.
Если хочешь узнать больше, загляни сюда: [https://github.com/jbogard/MediatR](https://github.com/jbogard/MediatR)

Кроме того, CQRS — это совсем другой (и сложный) зверь в мире микросервисов.
Там это означает, что у тебя есть отдельные сервисы и базы данных для чтения и записи.
В таком контексте **почти обязательно** использовать CQRS вместе с event sourcing и событийно-ориентированной асинхронной архитектурой.
Если тебе интересно, посмотри это видео (его можно понять даже без магистратуры по computer science):
[https://www.youtube.com/watch?v=uTCKzPg0Uak\&list=WL](https://www.youtube.com/watch?v=uTCKzPg0Uak&list=WL)

Martin Joo — Предметно-ориентированное проектирование с Laravel

47 / 327

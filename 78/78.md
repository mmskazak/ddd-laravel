Структура базы данных здесь очень простая:

                        +----------------+
                        |  subscribers   |
                        +----------------+
                              ^
                              |
+----------------------------+----------------------------+
|                        sent_mails                       |
+----------------------------+----------------------------+
| sendable_id                                             |
| sendable_type                                           |
| subscriber_id                                           |
+----------------------------+----------------------------+
         |                                          |
         v                                          v
+------------------+                      +---------------------+
|    broadcasts    |                      |   sequence_mails    |
+------------------+                      +---------------------+


Из этой таблицы мы также можем запрашивать статистику по конкретному подписчику, например:

* Сколько писем было отправлено этому конкретному подписчику?
* Каков средний показатель открываемости для этого подписчика?
* По колонке `sent_at` можно даже посчитать: **в среднем, сколько дней проходит между письмами**?

Ещё раз: я не хочу предсказывать будущее,
но отчёты по своей природе обычно **очень “динамичны”**.
Это означает, что руководство всегда хочет **более экзотические отчёты**.
Для меня такая структура выглядит как хорошая отправная точка,
которая поддерживает разные виды статистики.

Martin Joo — Предметно-ориентированное проектирование с Laravel
Стр. 77 / 327

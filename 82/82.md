* `allowed_days` — это объект, который содержит каждый день недели и соответствующее логическое значение.
Он указывает, должно ли письмо быть отправлено в конкретный день.

В первом примере письмо будет отправлено только в среду.
Во втором примере — в любой будний день.

С помощью этой простой таблицы мы можем описать любую текущую логику планирования.

Почему мы создали новую таблицу для расписаний, но использовали JSON-колонку для фильтров?
Ведь это расписание тоже можно хранить как JSON, правда?

Да, это так. У меня две причины, почему я выбрал отдельную таблицу:

1. Веришь или нет, но логика планирования более **предсказуемая** и более "**статичная**", чем фильтрация.
   Этот простой кейс — вся логика планирования в ConvertKit! И я не ожидаю сильных изменений в этом требовании.

2. Так как мы **уже использовали JSON** для фильтров, я считаю полезным использовать **отдельную таблицу** в этом случае.
   Так ты сможешь увидеть, как эти задачи решаются через **DTO** и **объекты-значения**.
   После реализации этих фич ты сам решишь, что лучше подходит твоему текущему или будущему проекту.

Теперь мы можем построить полную структуру БД для последовательностей:

Martin Joo — Предметно-ориентированное проектирование с Laravel
Стр. 81 / 327
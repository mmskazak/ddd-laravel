Последняя часть — это использование каста в модели:

```php
protected $casts = [
    'revenue' => MillionsCast::class,
    'net_profit' => MillionsCast::class,
];
```

Итак, в двух словах, вот как использовать объект-значение. Подведём итог:

Используя объекты-значения, ты можешь создавать объекты из связанного скалярного набора данных.

Основные преимущества:

* Это делает твой код более высокоуровневым.
* Это проясняет вещи и помогает избежать путаницы. Например, теперь ты точно знаешь, что `Millions` содержит число, представленное в миллионах.
* Это помогает работать с nullable-значениями. Тебе больше не нужно писать `?float $revenue`. Ты можешь писать `Millions $revenue`.

В введении я писал, что данные — это ключевая часть любого приложения. Я дал тебе такой список:

* Приходит запрос. Он содержит входящие данные.
* Бизнес-слой обрабатывает эти данные.
* Слой базы данных вставляет эти данные в БД.
* Возвращается ответ. Он содержит исходящие данные.

Как ты можешь видеть на примерах с кастом и другими, объект-значение используется в основном **внутри** (но не исключительно!) нашего приложения. В следующей главе мы обсудим, что происходит на границах (запросы и ответы).

Martin Joo — Предметно-ориентированное проектирование с Laravel

15 / 327

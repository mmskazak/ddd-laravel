Единственное место, где тебе придётся иметь дело с массивами при таком подходе — это сам DTO. Только фабричная функция будет знать что-либо об уродливом массиве `$data`. Каждый слой твоего приложения будет использовать структурированный, типизированный объект.

Как видишь, этот класс не взаимодействует с `Request` или любым другим классом, зависящим от окружения, так что ты можешь использовать DTO где угодно, включая:

    * Контроллеры
    * Консольные команды
    * Сервисы или действия (рассмотрим позже в книге)
    * Модели или Query Builders (рассмотрим позже в книге)

И вот как ты можешь использовать его из `CourseController`:

```php
class CourseController extends Controller
{
    public function store(
        Request $request, 
        CourseService $courseService
    ): Course {
        return $courseService->create(
            CourseData::fromArray($request->all())
        );
    }
}
```

Martin Joo — Предметно-ориентированное проектирование с Laravel

21 / 327

Это мой любимый вариант, потому что он просто выглядит аккуратно!
Но если ты хочешь писать тесты, которые мока́ют (заменяют) actions, это плохой выбор, потому что сделать это не так просто (а может, вообще невозможно — я не уверен).
Однако для меня это не проблема, потому что я пишу API-тесты, поэтому я **не** мокаю actions. Я мокаю только внешние зависимости, такие как сторонние API.
В этой книге я буду использовать именно этот подход, и ты увидишь, насколько чисто выглядит код.

Ты можешь ошибаться, если думаешь, что actions — это не часть DDD, а просто какая-то современная «магия Laravel».
Впервые я услышал об actions от Роберта С. Мартина в его книге **«Agile Software Development»**, написанной в 2002 году (за 10 лет до рождения Laravel).
В той книге они назывались **transactions**.
После этого я снова встретил их в мире C#, где их называли **commands**.
Кстати, это и есть первая буква в **CQRS** (подробнее об этом позже).
После всего этого появился пакет MediatR (2015), где actions назывались **requests**.
Как видишь, actions имеют долгую историю, и Laravel-сообщество их не изобретало.
Однако «action» — это самое крутое название, которое я когда-либо слышал для описания класса.

Martin Joo — Предметно-ориентированное проектирование с Laravel

41 / 327
